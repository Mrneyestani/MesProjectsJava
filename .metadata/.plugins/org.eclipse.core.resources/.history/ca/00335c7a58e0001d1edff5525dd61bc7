package fr.doranco.exemple.model.dao;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.Statement;
import java.util.List;
import fr.doranco.exemple.entity.Commande;
import fr.doranco.exemple.model.connection.DataBaseConnection;
import fr.doranco.exemple.utils.Dates;


public class CommandeDao implements ICommandeDao{

	
	@Override
	public int addCommande(Commande commande, int userId, int adresseLivraison, int adresseFacturation, int cartePaiementId) throws Exception {
		
		Connection connection = null;
		PreparedStatement ps = null;
		ResultSet rs = null;
		try {
			connection = DataBaseConnection.getConnection();
			String requete = INSERT INTO `exemple_db`.`commande`
							(`numero_commande`,
							`statut`,
							`mode_livraison`,
							`date_creation`,
							`date_livraison`,
							`date_annulation`,
							`adresse_livraison_id`,
							`adresse_facturation_id`,
							`carte_paiement_id`,
							`user_id`)
							VALUES (?,?,?,?,?,?,?,?,?,?);
			ps = connection.prepareStatement(requete, Statement.RETURN_GENERATED_KEYS);				
			ps.setString(1, commande.getNumeroCommande());
			ps.setString(2, commande.getStatut());
			ps.setString(3, commande.getLivraison());
			ps.setString(4, commande.getDateLivraison());
			ps.setString(1, commande.getDateAnnulation());
			ps.setString(1, commande.getDateCreation());
			ps.setString(1, commande.get);

			
			ps.setDate(3, Dates.convertDateUtilToSql(user.getDateNaissance()));				
							(<{id: }>,

		
		
		return 0;
	}

	@Override
	public Commande getCommandeById(int id) throws Exception {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public List<Commande> getCommandes() throws Exception {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public void annulerCommande(Commande commande) throws Exception {
		// TODO Auto-generated method stub
		
	}

	

}
